<div class="container-fluid">
  <div class="ods-box" style="padding: 20px 0px 0px 0px !important">
    <h2>Welcome</h2>
    <p>
      Welcome to Cary's Open Data help page. As we continue to develop our
      datasets, we welcome your feedback. If you have questions, please contact
      us <a href="/pages/request/" target="_blank">here</a>.
      <br />
      <br />
      This website is a free and open data sharing portal where anyone can
      access and use data relating to Cary, NC. You can browse, search, preview,
      and download a variety of municipal geospatial and tabular data.
      Descriptions of each dataset will help with understanding of the content,
      clicking the "DATASET SCHEMA" heading below the description will provide
      information on data type and a descriptions for each column. View it, map
      it, style it, chart it, download it - how you use it is entirely up to
      you!
      <br />
      <br />
      Want to access our information via API?
      <a href="#API-Tab">Navigate to the API Section</a>
      <br />
      <br />
      Please look to the
      <a href="#Sharing-a-Dataset-via-Link-Embed-or-Widget"
        >Sharing a Dataset via Link Embed or Widget</a
      >
      section for guidance on using Cary Open Data Portal charts and maps to
      create interactive and responsive content for your site.
      <br />
      <br />
      Use the search bar at the top of the page to find data relating to topics
      of interest. As you browse through the different datasets, the extent of
      each will be displayed on the map. Once you find what you are looking for,
      select the dataset from the list to be able to view the data and get
      options for download.
    </p>
  </div>
  <h2>Catalog Card</h2>
  <div class="container-fluid">
    <p>
      Each dataset is represented by a catalog card, which provides the basic
      information contained in a dataset.
    </p>
    <img
      src="/assets/theme_image/Dataset-Sample.gif"
      alt="catalog card"
      width="75%"
    />
  </div>
  <div class="container-fluid">
    <h2>Navigating a Dataset</h2>
    <table class="center">
      <caption>
        Table, Map, Analyze, and Export Icons with Descriptions
      </caption>
      <th>Icon</th>
      <th>Description</th>
      <tbody>
        <tr>
          <td>
            <img src="/assets/theme_image/table.png" alt="theme tab icon" />
          </td>
          <td>Use the table icon to view the dataset as a table.</td>
        </tr>
        <tr>
          <td>
            <img src="/assets/theme_image/map.png" alt="map tab icon" />
          </td>
          <td>Use the map icon to view the dataset as a map.</td>
        </tr>
        <tr>
          <td>
            <img src="/assets/theme_image/analyze.png" alt="analyze tab icon" />
          </td>
          <td>Use the analyze icon to view the dataset as a chart.</td>
        </tr>
        <tr>
          <td>
            <img src="/assets/theme_image/export.png" alt="export tab icon" />
          </td>
          <td>
            Use the export icon to export the dataset into a variety of formats.
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <img
        src="/assets/theme_image/table_information_tab.png"
        alt="catalog card with information tab emphasized"
      />
    </p>
    <h2>Viewing a Dataset as a Table</h2>
    <p>
      Clicking on the Table tab will show the data as a data table that you can
      sort and filter.
      <br />
      <br />
      <img
        src="/assets/theme_image/table_table_tab.png"
        alt="catalog card with table tab emphasized"
      />
    </p>
    <h2>Viewing a Dataset as a Map</h2>
    <p>
      By clicking on a datapoint, you are presented with specific information
      about that datapoint.
      <br />
      <br />
      <img
        src="/assets/theme_image/table_map_tab.png"
        alt="catalog card with map tab emphasized"
      />
    </p>
    <h2>Viewing a Dataset in the Analyze Tab</h2>
    <p>
      You have the ability to visualize the information with a variety of charts
      and graphs on the fly.
      <br />
      <br />
      <img
        src="/assets/theme_image/table_analyze_tab.png"
        alt="catalog card with analyze tab emphasized"
      />
    </p>
    <h2>Filtering Facets of a Dataset</h2>
    <p>
      You can filter the dataset by selecting the facets you wish to filter by
      in the pane on the left side of the screen.
      <br />
      <br />
      <img
        src="/assets/theme_image/table_analyze_tab_filtering.png"
        alt="analyze tab showcased with the active filters emphasized"
      />
    </p>
    <h2>Accessing the Advanced Chart Editor</h2>
    <p>
      If you click the "Edit in advanced mode" link, you will be taken to the
      Advanced Chart Editor for your dataset.
      <br />
      <br />
      <img
        src="/assets/theme_image/link_to_advanced_editor.png"
        alt="analyze tab with the link to Edit in Advanced mode emphasized"
      />
    </p>
    <p>
      The Advanced Chart Editor allows you to customize your chart to your
      liking, along with adding additional datasets to the visualization you
      build.
      <br />
      <br />
      <img
        src="/assets/theme_image/advanced_chart_editor.png"
        alt="advanced chart editor showing the series and global configuration options"
      />
    </p>
    <h2>Exporting a Dataset</h2>
    <p>
      Information contained in a dataset can be exported in the following
      formats via the Export tab:
    </p>
    <ul>
      <li>
        Flat files formats: Comma Separated Values (.csv), JavaScript Object
        Notation (.json), or Microsoft Excel (.xlsx)
      </li>
      <li>
        Geographic file formats: GeoJSON (.geojson), Shapefile (.shp), or
        Keyhole Markup Language (.kml)
      </li>
    </ul>
    <p>
      Not seeing the filetype you need? We support the to the following
      filetypes via the <code>/catalog/datasets/{dataset_id}/exports/{format}</code> endpoint 
      <a href="https://data.townofcary.org/api/explore/v2.0/console"
        >Opendatasoft Explore API v2</a
      >:
    </p>
    <ul>
      <li>CSV (.csv)</li>
      <li><a href="https://geojson.org/">GeoJSON (.geojson)</a></li>
      <li>
        <a
          href="https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-xls/cd03cb5f-ca02-4934-a391-bb674cb8aa06"
          >Excel Binary (.xls)</a
        >
      </li>
      <li>JSON (.json)</li>
      <li><a href="https://jsonlines.org/">JSON Lines (.jsonl)</a></li>
      <li><a href="https://www.w3.org/TR/json-ld/">JSON-LD (.jsonld)</a></li>
      <li>
        <a href="https://www.w3.org/TR/rdf-syntax-grammar/"
          >RDF XML Syntax (.rdf)</a
        >
      </li>
      <li><a href="https://www.w3.org/TR/turtle/">RDF Turtle (.ttl)</a></li>
      <li>
        <a href="https://www.w3.org/TeamSubmission/n3/">Notation 3 (.n3)</a>
      </li>
    </ul>
    <p>
      Take note that you can filter the dataset prior to exporting the data set
      in the format of your choosing.
    </p>
    <img
      src="/assets/theme_image/export_tab.png"
      alt="export tab emphasized with the ability to export records according to a filter or all records in a dataset in CSV, JSON, or XLSX for tabular data, or GeoJSON, Shapefile, or KML for geospatial data"
    />
    <h2 id="API-Tab">API Tab: Opendatasoft Explore API v1</h2>
    <p>The image below is Version 1 of the API tab, you can use the URLs this generates to retrieve data via HTTP GET request. For additional functionality and support, we <b>highly recommend</b> you use the <a href="https://data.townofcary.org/api/explore/v2.0/console"
        >Opendatasoft Explore API v2</a
      > to generate your GET query strings.</p>
    <img src="/assets/theme_image/api_tab_v1.png" alt="Opendatasoft API Tab Version 1">
    <h2 id="Sharing-a-Dataset-via-Link-Embed-or-Widget">
      Sharing a Dataset via Link, Embed, or Widget
    </h2>
    <p>
      Once your dataset is selected, you can always copy/paste the url from your
      browser's address bar to share it, but you can also use any of the 3
      options offered below:
    </p>
    <ul>
      <li>Share the URL.</li>
      <li>
        Code snippet to embed the map or chart inside any other website.<sup
          ><a href="#embed-explanation">[1]</a></sup
        >
      </li>
      <li>
        Code snippet to include in any of your dashboard or page on the
        Opendatasoft platform.<sup
          ><a href="#link-to-cookbook-explanation">[2]</a></sup
        >
      </li>
    </ul>
    <img
      src="/assets/theme_image/table_share_table.png"
      alt="analyze tab with the Share, Embed, and Widget sharing options emphasized"
    />
    <br />
    <br />
    <section id="embed-explanation">
      <h3>Embedding Content in Your Website via iframe</h3>
      <p>
        If you are going to use the "Embed" option <em>and</em> have the option
        to add raw HTML into your document or Content Management System, we
        recommend using the following snippet below. It will enable the
        <code>iframe</code> element to be able stretch to fit various screen
        sizes and not be limited by the <code>height</code> and
        <code>width</code> attributes of the <code>iframe</code>.
        <br />
        <br />
        In the snippet below, replace the <code>src</code> in the
        <code>iframe</code> with the <code>src</code> that is provided to you by
        the Embed component.
      </p>
      <pre>
        <code>
          &lt;style&gt;
          .odp_container{position: relative; overflow: hidden;width: 100%;padding-top: 56.25%;}
          .odp_responsive-iframe{position: absolute;top: 0;left: 0;bottom: 0;right: 0;width: 100%;height: 100%;}
          &lt;/style&gt;

          &lt;section class="odp_container"&gt;
          &lt;iframe class="odp_responsive-iframe" src="add-the-src-from-your-created-chart-here"
          frameborder="0"&gt;&lt;/iframe&gt;
          &lt;section&gt;
        </code>
      </pre>
    </section>
    <section id="link-to-cookbook-explanation">
      <h3>
        Embedding Content in Your Website via Opendatasoft Custom Components
      </h3>
      <p>
        If you want an even greater level of control over content imported to
        your website please reference the
        <a href="https://github.com/opendatasoft/ods-widgets#readme"
          >README of the Opendatasoft widgets GitHub repository</a
        >
        for the code conventions and required files. For a guide on how to
        implement the components, please reference Opendatasoft's
        <a href="https://help.opendatasoft.com/widgets/#/introduction/"
          >Introduction article</a
        >
        and
        <a href="https://help.opendatasoft.com/widgets/#/getting-started/"
          >Getting Started guide</a
        >.
      </p>
    </section>
  </div>
</div>

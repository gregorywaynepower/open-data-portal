<section>
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="center">
          <h1 class="title">Sensors in Cary's Downtown Park</h1>
          <ods-dataset-context
            context="downtownparkmap"
            downtownparkmap-dataset="downtown-park-map"
            ng-init="values = {};"
          >
            <p class="kpi-description">
              Last Updated:<span class="kpi-value2">
                {{ downtownparkmap.dataset.metas.metadata_processed | date
                }}</span
              >
            </p>
          </ods-dataset-context>
        </div>
      </div>
    </div>
  </div>
</section>
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Types of Sensors</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Downtown Park Sensors<sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>1</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="downtownparkmap"
            downtownparkmap-dataset="downtown-park-map"
            downtownparkmap-parameters="{'disjunctive.type':true}"
          >
            <ods-map
              no-refit="true"
              scroll-wheel-zoom="false"
              toolbar-fullscreen="true"
              basemap="jawg.streets"
              location="17,35.78441,-78.7778"
            >
              <ods-map-layer-group>
                <ods-map-layer
                  context="downtownparkmap"
                  color-categories="{'Occupancy Sensor':'#638E5B','Door Sensor':'#2B3F56','Paper Towel Sensor (Paper Towel Roll)':'#F7C87E','Paper Towel Sensor (Stack of Paper Towels)':'#1216CC','Sound Sensor':'#8964A8','Trash Sensor':'#BA0129'}"
                  color-by-field="type"
                  picto="ods-circle"
                  show-marker="true"
                  display="categories"
                  function="COUNT"
                  expression="lat"
                  shape-opacity="0.5"
                  point-opacity="1"
                  border-color="#FFFFFF"
                  border-opacity="1"
                  border-size="1"
                  border-pattern="solid"
                  caption="true"
                  title="Downtown Park Sensors"
                  description="Listings of sensors and relevant sensor data within Cary's Downtown Park."
                  size="4"
                ></ods-map-layer>
              </ods-map-layer-group>
            </ods-map>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Door Sensor Cluster Map</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Downtown Park Door Sensors<sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="doorsensordatafromdowntowncaryparkopening"
            doorsensordatafromdowntowncaryparkopening-dataset="door-sensor-data-from-downtown-cary-park-opening"
            doorsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.decoded_content_1_value':true,'disjunctive.params_duplicate':true,'disjunctive.link_type':true,'disjunctive.building':true,'disjunctive.location_name':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]','refine.decoded_content_1_value':'OPEN'}"
          >
            <ods-map
              no-refit="true"
              scroll-wheel-zoom="false"
              search-box="true"
              toolbar-fullscreen="true"
              toolbar-geolocation="true"
              basemap="jawg.streets"
              location="17,35.78441,-78.7778"
            >
              <ods-map-layer-group>
                <ods-map-layer
                  context="doorsensordatafromdowntowncaryparkopening"
                  color="#C32D1C"
                  picto="ods-circle"
                  show-marker="true"
                  display="clusters"
                  function="COUNT"
                  expression="decoded_content_0_value"
                  shape-opacity="0.5"
                  point-opacity="1"
                  border-color="#FFFFFF"
                  border-opacity="1"
                  border-size="1"
                  border-pattern="solid"
                  caption="true"
                  title="Downtown Park Sensor Data"
                  description="Wide form sensor data from the devices themselves in Downtown Cary Park."
                  size-min="3"
                  size-max="5"
                  size-function="linear"
                ></ods-map-layer>
              </ods-map-layer-group>
            </ods-map>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Door Sensor Heatmap</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Downtown Park Door Sensors<sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="doorsensordatafromdowntowncaryparkopening"
            doorsensordatafromdowntowncaryparkopening-dataset="door-sensor-data-from-downtown-cary-park-opening"
            doorsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.decoded_content_1_value':true,'disjunctive.params_duplicate':true,'disjunctive.link_type':true,'disjunctive.building':true,'disjunctive.location_name':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]','refine.decoded_content_1_value':'OPEN'}"
          >
            <ods-map
              no-refit="true"
              scroll-wheel-zoom="false"
              search-box="true"
              toolbar-fullscreen="true"
              toolbar-geolocation="true"
              basemap="jawg.streets"
              location="17,35.78441,-78.7778"
            >
              <ods-map-layer-group>
                <ods-map-layer
                  context="doorsensordatafromdowntowncaryparkopening"
                  color-gradient="{'1':'#FF0000','0.4':'#0000FF','0.6':'#00FFFF','0.7':'#00FF00','0.8':'#FFFF00'}"
                  picto="ods-circle"
                  show-marker="true"
                  display="heatmap"
                  radius="4"
                  function="COUNT"
                  expression="decoded_content_0_value"
                  shape-opacity="0.5"
                  point-opacity="1"
                  border-color="#FFFFFF"
                  border-opacity="1"
                  border-size="1"
                  border-pattern="solid"
                  caption="true"
                  title="Downtown Park Sensor Data"
                  description="Wide form sensor data from the devices themselves in Downtown Cary Park."
                  size-function="linear"
                ></ods-map-layer>
              </ods-map-layer-group>
            </ods-map>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Door Sensors by Day</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Downtown Park Sound Sensors<sup
              >[<a href="#DowntownParkSoundSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="doorsensordatafromdowntowncaryparkopening"
            doorsensordatafromdowntowncaryparkopening-dataset="door-sensor-data-from-downtown-cary-park-opening"
            doorsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.decoded_content_1_value':true,'disjunctive.params_duplicate':true,'disjunctive.link_type':true,'disjunctive.building':true,'disjunctive.location_name':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]','refine.decoded_content_1_value':'OPEN'}"
          >
            <ods-chart scientific-display="false" align-month="true">
              <ods-chart-query
                context="doorsensordatafromdowntowncaryparkopening"
                field-x="dt"
                maxpoints="0"
                timescale="day"
                series-breakdown="building"
              >
                <ods-chart-serie
                  expression-y="decoded_content_2_value"
                  chart-type="column"
                  function-y="COUNT"
                  color="range-custom"
                  scientific-display="true"
                >
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Sound Sensor Measurements</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Downtown Park Sound Sensors<sup
              >[<a href="#DowntownParkSoundSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="downtownparksoundsensors"
            downtownparksoundsensors-dataset="downtown-park-sound-sensors"
            downtownparksoundsensors-parameters="{'disjunctive.day_of_week':true,'refine.rx_datetime':'2023/11','q.timerange.rx_datetime':'rx_datetime:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]'}"
          >
            <ods-chart
              timescale="minute"
              scientific-display="false"
              align-month="true"
            >
              <ods-chart-query
                context="downtownparksoundsensors"
                field-x="rx_datetime"
                maxpoints="0"
                timescale="hour"
                series-breakdown="location_name"
              >
                <ods-chart-serie
                  expression-y="sound_level"
                  chart-type="line"
                  function-y="AVG"
                  color="range-custom"
                  min="0"
                  scientific-display="true"
                >
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>The Nest Paper Towel Sensors</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Paper Towel Sensor Data from Downtown Cary Park Opening<sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="papertowelsensordatafromdowntowncaryparkopening"
            papertowelsensordatafromdowntowncaryparkopening-dataset="paper-towel-sensor-data-from-downtown-cary-park-opening"
            papertowelsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.building':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]','refine.building':'The Nest'}"
          >
            <ods-chart
              timescale="day"
              scientific-display="false"
              align-month="true"
            >
              <ods-chart-query
                context="papertowelsensordatafromdowntowncaryparkopening"
                field-x="dt"
                maxpoints="0"
                timescale="hour"
                series-breakdown="location_name"
              >
                <ods-chart-serie
                  expression-y="decoded_packets_2_content_0_value"
                  chart-type="line"
                  function-y="AVG"
                  color="range-custom"
                  min="0"
                  max="100"
                  scientific-display="true"
                >
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Bark Bar Paper Towel Sensors</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Paper Towel Sensor Data from Downtown Cary Park Opening<sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="papertowelsensordatafromdowntowncaryparkopening"
            papertowelsensordatafromdowntowncaryparkopening-dataset="paper-towel-sensor-data-from-downtown-cary-park-opening"
            papertowelsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.building':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]','disjunctive.location_name':true,'disjunctive.sensor_type':true,'refine.building':'Bark Bar'}"
          >
            <ods-chart
              timescale="day"
              scientific-display="false"
              align-month="true"
            >
              <ods-chart-query
                context="papertowelsensordatafromdowntowncaryparkopening"
                field-x="dt"
                maxpoints="0"
                timescale="hour"
                series-breakdown="location_name"
              >
                <ods-chart-serie
                  expression-y="decoded_packets_2_content_0_value"
                  chart-type="line"
                  function-y="AVG"
                  color="range-custom"
                  min="0"
                  max="100"
                  scientific-display="true"
                >
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Library Paper Towel Sensors</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Paper Towel Sensor Data from Downtown Cary Park Opening
            <sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="papertowelsensordatafromdowntowncaryparkopening"
            papertowelsensordatafromdowntowncaryparkopening-dataset="paper-towel-sensor-data-from-downtown-cary-park-opening"
            papertowelsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.building':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]','disjunctive.location_name':true,'disjunctive.sensor_type':true,'refine.building':'Library Office'}"
          >
            <ods-chart
              timescale="day"
              scientific-display="false"
              align-month="true"
            >
              <ods-chart-query
                context="papertowelsensordatafromdowntowncaryparkopening"
                field-x="dt"
                maxpoints="0"
                timescale="hour"
                series-breakdown="location_name"
              >
                <ods-chart-serie
                  expression-y="decoded_packets_2_content_0_value"
                  chart-type="line"
                  function-y="AVG"
                  color="range-custom"
                  min="0"
                  max="100"
                  scientific-display="true"
                >
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Academy Pavilion Paper Towel Sensors</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Paper Towel Sensor Data from Downtown Cary Park Opening
            <sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="papertowelsensordatafromdowntowncaryparkopening"
            papertowelsensordatafromdowntowncaryparkopening-dataset="paper-towel-sensor-data-from-downtown-cary-park-opening"
            papertowelsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.building':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]','disjunctive.location_name':true,'disjunctive.sensor_type':true,'refine.building':'Academy Pavilion'}"
          >
            <ods-chart
              timescale="day"
              scientific-display="false"
              align-month="true"
            >
              <ods-chart-query
                context="papertowelsensordatafromdowntowncaryparkopening"
                field-x="dt"
                maxpoints="0"
                timescale="hour"
                series-breakdown="location_name"
              >
                <ods-chart-serie
                  expression-y="decoded_packets_2_content_0_value"
                  chart-type="line"
                  function-y="AVG"
                  color="range-custom"
                  min="0"
                  max="100"
                  scientific-display="true"
                >
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Performance Pavilion Paper Towel Sensors</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Paper Towel Sensor Data from Downtown Cary Park Opening
            <sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="papertowelsensordatafromdowntowncaryparkopening"
            papertowelsensordatafromdowntowncaryparkopening-dataset="paper-towel-sensor-data-from-downtown-cary-park-opening"
            papertowelsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.building':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]','refine.building':'Performance Pavilion'}"
          >
            <ods-chart
              timescale="hour"
              scientific-display="false"
              align-month="true"
            >
              <ods-chart-query
                context="papertowelsensordatafromdowntowncaryparkopening"
                field-x="dt"
                maxpoints="0"
                timescale="hour"
                series-breakdown="location_name"
              >
                <ods-chart-serie
                  expression-y="decoded_packets_2_content_0_value"
                  chart-type="line"
                  function-y="AVG"
                  color="range-custom"
                  min="0"
                  max="100"
                  scientific-display="true"
                >
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
<section>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <h2>Trash Sensor Data from Downtown Cary Park Opening</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="chart-title">
          <div class="center">
            Trash Sensor Data from Downtown Cary Park Opening
            <sup
              >[<a href="#DowntownParkSensors" id="citation-1-a"
                ><span>2</span></a
              >]
            </sup>
          </div>
        </div>
        <figure>
          <ods-dataset-context
            context="trashsensordatafromdowntowncaryparkopening"
            trashsensordatafromdowntowncaryparkopening-dataset="trash-sensor-data-from-downtown-cary-park-opening"
            trashsensordatafromdowntowncaryparkopening-parameters="{'disjunctive.day_of_week':true,'disjunctive.params_duplicate':true,'disjunctive.link_type':true,'disjunctive.location_name':true,'q.timerange.dt':'dt:[2023-11-17T05:00:00Z TO 2023-11-20T04:59:59Z]'}"
          >
            <ods-chart
              timescale="hour"
              scientific-display="false"
              align-month="true"
            >
              <ods-chart-query
                context="trashsensordatafromdowntowncaryparkopening"
                field-x="dt"
                maxpoints="0"
                timescale="hour"
              >
                <ods-chart-serie
                  expression-y="decoded_packets_2_content_0_value"
                  chart-type="line"
                  function-y="AVG"
                  color="#2B3F56"
                  min="0"
                  scientific-display="true"
                >
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </ods-dataset-context>
        </figure>
      </div>
    </div>
  </div>
</section>
<br />
